{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "/schemas/index.json",
  "title": "AdCP Schema Registry v1",
  "version": "1.0.0",
  "description": "Registry of all AdCP JSON schemas for validation and discovery",
  "adcp_version": "2.5.1",
  "standard_formats_version": "2.0.0",
  "versioning": {
    "note": "AdCP uses path-based versioning. The schema URL path (/schemas/) indicates the version. Individual request/response schemas do NOT include adcp_version fields. Compatibility follows semantic versioning rules."
  },
  "changelog": {
    "2.0.0": {
      "date": "2025-10-14",
      "breaking_changes": [
        "Added renders array to Format schema with role and dimensions fields (replaces top-level dimensions)",
        "Formats now specify rendered outputs via renders array - enables companion ads, adaptive formats, and multi-placement",
        "Each render includes role (primary, companion, mobile_variant, etc.) and structured dimensions object",
        "Removed string dimensions field from standard display formats",
        "Renamed preview response 'outputs' to 'renders' to avoid confusion with generative format output_format_ids",
        "Removed format_id from preview renders (all renders are from the same format)",
        "Removed hints object from preview renders (use format lookup for render specifications instead)",
        "Changed preview render field names: output_id→render_id, output_role→role, added dimensions field"
      ],
      "rationale": "Renders array with structured dimensions eliminates parsing ambiguity and uniformly supports single and multi-render formats. Multi-render preview support enables companion ads and adaptive formats. Terminology changes prevent confusion between preview rendering and generative format outputs. Simplified schema removes redundant fields."
    },
    "1.8.0": {
      "date": "2025-10-13",
      "changes": [
        "Previous version with string-based dimensions"
      ]
    }
  },
  "lastUpdated": "2025-11-22",
  "baseUrl": "/schemas/v1",
  "schemas": {
    "core": {
      "description": "Core data models used throughout AdCP",
      "schemas": {
        "product": {
          "$ref": "/schemas/core/product.json",
          "description": "Represents available advertising inventory"
        },
        "media-buy": {
          "$ref": "/schemas/core/media-buy.json",
          "description": "Represents a purchased advertising campaign"
        },
        "package": {
          "$ref": "/schemas/core/package.json",
          "description": "A specific product within a media buy (line item)"
        },
        "creative-asset": {
          "$ref": "/schemas/core/creative-asset.json",
          "description": "Creative asset for upload to library - supports static assets, generative formats, and third-party ad serving (VAST, DAAST, HTML, JavaScript)"
        },
        "targeting": {
          "$ref": "/schemas/core/targeting.json",
          "description": "Audience targeting criteria"
        },
        "frequency-cap": {
          "$ref": "/schemas/core/frequency-cap.json",
          "description": "Frequency capping settings"
        },
        "format": {
          "$ref": "/schemas/core/format.json",
          "description": "Represents a creative format with its requirements"
        },
        "measurement": {
          "$ref": "/schemas/core/measurement.json",
          "description": "Measurement capabilities included with a product"
        },
        "delivery-metrics": {
          "$ref": "/schemas/core/delivery-metrics.json",
          "description": "Standard delivery metrics for reporting"
        },
        "creative-policy": {
          "$ref": "/schemas/core/creative-policy.json",
          "description": "Creative requirements and restrictions for a product"
        },
        "response": {
          "$ref": "/schemas/core/response.json",
          "description": "Standard response structure (MCP)"
        },
        "error": {
          "$ref": "/schemas/core/error.json",
          "description": "Standard error structure"
        },
        "sub-asset": {
          "$ref": "/schemas/core/sub-asset.json",
          "description": "Sub-asset for multi-asset creative formats"
        },
        "creative-assignment": {
          "$ref": "/schemas/core/creative-assignment.json",
          "description": "Assignment of a creative asset to a package"
        },
        "creative-manifest": {
          "$ref": "/schemas/core/creative-manifest.json",
          "description": "Complete specification of a creative with all assets needed for rendering"
        },
        "performance-feedback": {
          "$ref": "/schemas/core/performance-feedback.json",
          "description": "Performance feedback data for a media buy or package"
        },
        "property": {
          "$ref": "/schemas/core/property.json",
          "description": "An advertising property that can be validated via adagents.json"
        },
        "brand-manifest": {
          "$ref": "/schemas/core/brand-manifest.json",
          "description": "Standardized brand information manifest for creative generation and media buying"
        },
        "brand-manifest-ref": {
          "$ref": "/schemas/core/brand-manifest-ref.json",
          "description": "Brand manifest reference (inline object or URL)"
        },
        "promoted-products": {
          "$ref": "/schemas/core/promoted-products.json",
          "description": "Product or offering selection for campaigns with multiple selection methods"
        },
        "start-timing": {
          "$ref": "/schemas/core/start-timing.json",
          "description": "Campaign start timing: 'asap' or ISO 8601 date-time"
        },
        "pricing-option": {
          "$ref": "/schemas/core/pricing-option.json",
          "description": "A pricing model option offered by a publisher for a product"
        },
        "protocol-envelope": {
          "$ref": "/schemas/core/protocol-envelope.json",
          "description": "Standard envelope structure added by protocol layer (MCP, A2A, REST) that wraps task response payloads with protocol-level fields like status, context_id, task_id, and message"
        },
        "placement": {
          "$ref": "/schemas/core/placement.json",
          "description": "Represents a specific ad placement within a product's inventory"
        },
        "mcp-webhook-payload": {
          "$ref": "/schemas/core/mcp-webhook-payload.json",
          "description": "MCP-specific webhook payload structure for HTTP-based push notifications. Protocol-level fields at top-level (task_id, status, etc.) and AdCP data layer nested under 'result'. NOT used in A2A (uses native statusUpdate)."
        },
        "destination": {
          "$ref": "/schemas/core/destination.json",
          "description": "A destination platform where signals can be activated (DSP, sales agent, etc.)"
        },
        "deployment": {
          "$ref": "/schemas/core/deployment.json",
          "description": "A signal deployment to a specific destination platform with activation status and key"
        },
        "publisher-property-selector": {
          "$ref": "/schemas/core/publisher-property-selector.json",
          "description": "Selects properties from a publisher's adagents.json - supports three patterns: all properties, specific IDs, or by tags"
        },
        "product-filters": {
          "$ref": "/schemas/core/product-filters.json",
          "description": "Structured filters for product discovery"
        },
        "creative-filters": {
          "$ref": "/schemas/core/creative-filters.json",
          "description": "Filter criteria for querying creative assets from the centralized library"
        },
        "signal-filters": {
          "$ref": "/schemas/core/signal-filters.json",
          "description": "Filters to refine signal discovery results"
        },
        "property-id": {
          "$ref": "/schemas/core/property-id.json",
          "description": "Identifier for a publisher property - lowercase alphanumeric with underscores only"
        },
        "property-tag": {
          "$ref": "/schemas/core/property-tag.json",
          "description": "Tag for categorizing publisher properties - lowercase alphanumeric with underscores only"
        }
      }
    },
    "enums": {
      "description": "Enumerated types and constants",
      "schemas": {
        "pricing-model": {
          "$ref": "/schemas/enums/pricing-model.json",
          "description": "Supported pricing models for advertising products"
        },
        "delivery-type": {
          "$ref": "/schemas/enums/delivery-type.json",
          "description": "Type of inventory delivery"
        },
        "media-buy-status": {
          "$ref": "/schemas/enums/media-buy-status.json",
          "description": "Status of a media buy"
        },
        "creative-status": {
          "$ref": "/schemas/enums/creative-status.json",
          "description": "Status of a creative asset"
        },
        "pacing": {
          "$ref": "/schemas/enums/pacing.json",
          "description": "Budget pacing strategy"
        },
        "frequency-cap-scope": {
          "$ref": "/schemas/enums/frequency-cap-scope.json",
          "description": "Scope for frequency cap application"
        },
        "standard-format-ids": {
          "$ref": "/schemas/enums/standard-format-ids.json",
          "description": "Enumeration of all standard creative format identifiers"
        },
        "identifier-types": {
          "$ref": "/schemas/enums/identifier-types.json",
          "description": "Valid identifier types for property identification across different media types"
        },
        "publisher-identifier-types": {
          "$ref": "/schemas/enums/publisher-identifier-types.json",
          "description": "Valid identifier types for publisher/legal entity identification (TAG ID, DUNS, LEI, seller_id, GLN)"
        },
        "channels": {
          "$ref": "/schemas/enums/channels.json",
          "description": "Advertising channels (display, video, dooh, ctv, audio, etc.)"
        },
        "task-status": {
          "$ref": "/schemas/enums/task-status.json",
          "description": "Standardized task status values based on A2A TaskState enum"
        },
        "task-type": {
          "$ref": "/schemas/enums/task-type.json",
          "description": "Valid AdCP task types across all domains (create_media_buy, update_media_buy, sync_creatives, activate_signal, get_signals)"
        },
        "asset-content-type": {
          "$ref": "/schemas/enums/asset-content-type.json",
          "description": "Types of content that can be used as creative assets (image, video, html, etc.)"
        },
        "format-category": {
          "$ref": "/schemas/enums/format-category.json",
          "description": "High-level categories for creative formats (audio, video, display, native, dooh, rich_media, universal)"
        },
        "vast-version": {
          "$ref": "/schemas/enums/vast-version.json",
          "description": "Supported VAST specification versions (2.0, 3.0, 4.0, 4.1, 4.2)"
        },
        "vast-tracking-event": {
          "$ref": "/schemas/enums/vast-tracking-event.json",
          "description": "Standard VAST tracking events for video playback and interaction"
        },
        "property-type": {
          "$ref": "/schemas/enums/property-type.json",
          "description": "Types of advertising properties (website, mobile_app, ctv_app, dooh, podcast, radio, streaming_audio)"
        },
        "dimension-unit": {
          "$ref": "/schemas/enums/dimension-unit.json",
          "description": "Units of measurement for creative format dimensions (px, dp, inches, cm)"
        },
        "co-branding-requirement": {
          "$ref": "/schemas/enums/co-branding-requirement.json",
          "description": "Co-branding policy for creatives (required, optional, none)"
        },
        "landing-page-requirement": {
          "$ref": "/schemas/enums/landing-page-requirement.json",
          "description": "Landing page policy for creative destinations (any, retailer_site_only, must_include_retailer)"
        },
        "daast-version": {
          "$ref": "/schemas/enums/daast-version.json",
          "description": "Supported DAAST specification versions (1.0, 1.1)"
        },
        "daast-tracking-event": {
          "$ref": "/schemas/enums/daast-tracking-event.json",
          "description": "Standard DAAST tracking events for audio playback and interaction"
        },
        "signal-catalog-type": {
          "$ref": "/schemas/enums/signal-catalog-type.json",
          "description": "Types of signal catalogs (marketplace, custom, owned)"
        },
        "metric-type": {
          "$ref": "/schemas/enums/metric-type.json",
          "description": "Performance metric types for feedback and optimization"
        },
        "feedback-source": {
          "$ref": "/schemas/enums/feedback-source.json",
          "description": "Source of performance feedback data"
        },
        "creative-agent-capability": {
          "$ref": "/schemas/enums/creative-agent-capability.json",
          "description": "Capabilities supported by creative agents (validation, assembly, generation, preview)"
        },
        "adcp-domain": {
          "$ref": "/schemas/enums/adcp-domain.json",
          "description": "AdCP protocol domains (media-buy, signals)"
        },
        "http-method": {
          "$ref": "/schemas/enums/http-method.json",
          "description": "HTTP methods for webhook requests (GET, POST)"
        },
        "webhook-response-type": {
          "$ref": "/schemas/enums/webhook-response-type.json",
          "description": "Expected response content types from webhooks"
        },
        "webhook-security-method": {
          "$ref": "/schemas/enums/webhook-security-method.json",
          "description": "Security methods for webhook authentication"
        },
        "javascript-module-type": {
          "$ref": "/schemas/enums/javascript-module-type.json",
          "description": "JavaScript module format types (esm, commonjs, script)"
        },
        "markdown-flavor": {
          "$ref": "/schemas/enums/markdown-flavor.json",
          "description": "Markdown specification flavors (commonmark, gfm)"
        },
        "url-asset-type": {
          "$ref": "/schemas/enums/url-asset-type.json",
          "description": "Types of URL assets (clickthrough, tracker_pixel, tracker_script)"
        },
        "validation-mode": {
          "$ref": "/schemas/enums/validation-mode.json",
          "description": "Creative validation strictness levels (strict, lenient)"
        },
        "creative-action": {
          "$ref": "/schemas/enums/creative-action.json",
          "description": "Actions taken on creatives during sync (created, updated, unchanged, failed, deleted)"
        },
        "notification-type": {
          "$ref": "/schemas/enums/notification-type.json",
          "description": "Types of delivery notifications (scheduled, final, delayed, adjusted)"
        },
        "reporting-frequency": {
          "$ref": "/schemas/enums/reporting-frequency.json",
          "description": "Frequencies for delivery reports (hourly, daily, monthly)"
        },
        "available-metric": {
          "$ref": "/schemas/enums/available-metric.json",
          "description": "Standard delivery and performance metrics for reporting"
        },
        "preview-output-format": {
          "$ref": "/schemas/enums/preview-output-format.json",
          "description": "Output formats for creative previews (url, html)"
        },
        "sort-direction": {
          "$ref": "/schemas/enums/sort-direction.json",
          "description": "Sort direction for list queries (asc, desc)"
        },
        "history-entry-type": {
          "$ref": "/schemas/enums/history-entry-type.json",
          "description": "Type of task history entry (request, response)"
        },
        "feed-format": {
          "$ref": "/schemas/enums/feed-format.json",
          "description": "Product catalog feed formats"
        },
        "update-frequency": {
          "$ref": "/schemas/enums/update-frequency.json",
          "description": "Frequency of product catalog updates"
        },
        "auth-scheme": {
          "$ref": "/schemas/enums/auth-scheme.json",
          "description": "Authentication schemes for push notifications"
        },
        "creative-sort-field": {
          "$ref": "/schemas/enums/creative-sort-field.json",
          "description": "Fields available for sorting creative listings"
        }
      }
    },
    "pricing-options": {
      "description": "Individual pricing model schemas with model-specific validation. CPM and vCPM support both fixed and auction pricing; all other models are fixed-rate only.",
      "schemas": {
        "cpm-fixed-option": {
          "$ref": "/schemas/pricing-options/cpm-fixed-option.json",
          "description": "Cost Per Mille (CPM) fixed-rate pricing for direct/guaranteed deals"
        },
        "cpm-auction-option": {
          "$ref": "/schemas/pricing-options/cpm-auction-option.json",
          "description": "Cost Per Mille (CPM) auction-based pricing for programmatic/non-guaranteed inventory"
        },
        "vcpm-fixed-option": {
          "$ref": "/schemas/pricing-options/vcpm-fixed-option.json",
          "description": "Viewable Cost Per Mille (vCPM) fixed-rate pricing for viewability-guaranteed deals"
        },
        "vcpm-auction-option": {
          "$ref": "/schemas/pricing-options/vcpm-auction-option.json",
          "description": "Viewable Cost Per Mille (vCPM) auction-based pricing for programmatic inventory with viewability guarantee"
        },
        "cpc-option": {
          "$ref": "/schemas/pricing-options/cpc-option.json",
          "description": "Cost Per Click (CPC) fixed-rate pricing for performance campaigns"
        },
        "cpcv-option": {
          "$ref": "/schemas/pricing-options/cpcv-option.json",
          "description": "Cost Per Completed View (CPCV) fixed-rate pricing for video/audio"
        },
        "cpv-option": {
          "$ref": "/schemas/pricing-options/cpv-option.json",
          "description": "Cost Per View (CPV) fixed-rate pricing with threshold"
        },
        "cpp-option": {
          "$ref": "/schemas/pricing-options/cpp-option.json",
          "description": "Cost Per Point (CPP) fixed-rate pricing for TV/audio with demographic measurement"
        },
        "flat-rate-option": {
          "$ref": "/schemas/pricing-options/flat-rate-option.json",
          "description": "Flat rate pricing for DOOH and sponsorships"
        }
      }
    },
    "media-buy": {
      "description": "Media buy task request/response schemas",
      "supporting-schemas": {
        "package-request": {
          "$ref": "/schemas/media-buy/package-request.json",
          "description": "Package configuration for media buy creation - used within create_media_buy request"
        }
      },
      "tasks": {
        "get-products": {
          "request": {
            "$ref": "/schemas/media-buy/get-products-request.json",
            "description": "Request parameters for discovering available advertising products"
          },
          "response": {
            "$ref": "/schemas/media-buy/get-products-response.json",
            "description": "Response payload for get_products task"
          }
        },
        "list-creative-formats": {
          "request": {
            "$ref": "/schemas/media-buy/list-creative-formats-request.json",
            "description": "Request parameters for discovering format IDs and creative agents supported by this sales agent"
          },
          "response": {
            "$ref": "/schemas/media-buy/list-creative-formats-response.json",
            "description": "Response payload with format_ids and creative_agents list. Sales agent returns which formats it supports and which creative agents provide those formats. Buyers query creative agents for full format specifications."
          }
        },
        "create-media-buy": {
          "request": {
            "$ref": "/schemas/media-buy/create-media-buy-request.json",
            "description": "Request parameters for creating a media buy"
          },
          "response": {
            "$ref": "/schemas/media-buy/create-media-buy-response.json",
            "description": "Response payload for create_media_buy task"
          }
        },
        "sync-creatives": {
          "request": {
            "$ref": "/schemas/media-buy/sync-creatives-request.json",
            "description": "Request parameters for syncing creative assets with upsert semantics"
          },
          "response": {
            "$ref": "/schemas/media-buy/sync-creatives-response.json",
            "description": "Response payload for sync_creatives task"
          }
        },
        "list-creatives": {
          "request": {
            "$ref": "/schemas/media-buy/list-creatives-request.json",
            "description": "Request parameters for querying creative library with filtering and pagination"
          },
          "response": {
            "$ref": "/schemas/media-buy/list-creatives-response.json",
            "description": "Response payload for list_creatives task"
          }
        },
        "update-media-buy": {
          "request": {
            "$ref": "/schemas/media-buy/update-media-buy-request.json",
            "description": "Request parameters for updating campaign and package settings"
          },
          "response": {
            "$ref": "/schemas/media-buy/update-media-buy-response.json",
            "description": "Response payload for update_media_buy task"
          }
        },
        "get-media-buy-delivery": {
          "request": {
            "$ref": "/schemas/media-buy/get-media-buy-delivery-request.json",
            "description": "Request parameters for retrieving comprehensive delivery metrics"
          },
          "response": {
            "$ref": "/schemas/media-buy/get-media-buy-delivery-response.json",
            "description": "Response payload for get_media_buy_delivery task"
          }
        },
        "list-authorized-properties": {
          "request": {
            "$ref": "/schemas/media-buy/list-authorized-properties-request.json",
            "description": "Request parameters for discovering all properties this agent is authorized to represent"
          },
          "response": {
            "$ref": "/schemas/media-buy/list-authorized-properties-response.json",
            "description": "Response payload for list_authorized_properties task"
          }
        },
        "provide-performance-feedback": {
          "request": {
            "$ref": "/schemas/media-buy/provide-performance-feedback-request.json",
            "description": "Request parameters for sharing performance outcomes with publishers"
          },
          "response": {
            "$ref": "/schemas/media-buy/provide-performance-feedback-response.json",
            "description": "Response payload for provide_performance_feedback task"
          }
        }
      }
    },
    "creative": {
      "description": "Creative protocol task request/response schemas and asset type definitions",
      "tasks": {
        "build-creative": {
          "request": {
            "$ref": "/schemas/media-buy/build-creative-request.json",
            "description": "Request parameters for AI-powered creative generation"
          },
          "response": {
            "$ref": "/schemas/media-buy/build-creative-response.json",
            "description": "Response payload for build_creative task"
          }
        },
        "preview-creative": {
          "request": {
            "$ref": "/schemas/creative/preview-creative-request.json",
            "description": "Request parameters for generating creative previews"
          },
          "response": {
            "$ref": "/schemas/creative/preview-creative-response.json",
            "description": "Response payload for preview_creative task"
          }
        },
        "list-creative-formats": {
          "request": {
            "$ref": "/schemas/creative/list-creative-formats-request.json",
            "description": "Request parameters for discovering creative formats from this creative agent"
          },
          "response": {
            "$ref": "/schemas/creative/list-creative-formats-response.json",
            "description": "Response payload with full format definitions - this is the authoritative source for format specifications"
          }
        }
      },
      "asset_types": {
        "$ref": "/schemas/creative/asset-types/index.json",
        "description": "Asset type definitions for creative manifests"
      }
    },
    "signals": {
      "description": "Signals protocol task request/response schemas",
      "tasks": {
        "get-signals": {
          "request": {
            "$ref": "/schemas/signals/get-signals-request.json",
            "description": "Request parameters for discovering signals based on description"
          },
          "response": {
            "$ref": "/schemas/signals/get-signals-response.json",
            "description": "Response payload for get_signals task"
          }
        },
        "activate-signal": {
          "request": {
            "$ref": "/schemas/signals/activate-signal-request.json",
            "description": "Request parameters for activating a signal on a specific platform/account"
          },
          "response": {
            "$ref": "/schemas/signals/activate-signal-response.json",
            "description": "Response payload for activate_signal task"
          }
        }
      }
    },
    "adagents": {
      "description": "Authorized sales agents file format specification",
      "$ref": "/schemas/adagents.json",
      "file_location": "/.well-known/adagents.json",
      "purpose": "Declares which sales agents are authorized to sell a publisher's advertising inventory"
    },
    "protocols": {
      "description": "Protocol-level schemas for agent card extensions",
      "schemas": {
        "adcp-extension": {
          "$ref": "/schemas/protocols/adcp-extension.json",
          "description": "AdCP extension for agent cards (MCP and A2A). Declares AdCP version and supported protocol domains."
        }
      }
    }
  },
  "usage": {
    "validation": "Use these schemas to validate AdCP requests and responses",
    "codeGeneration": "Generate client SDKs using these schemas",
    "documentation": "Reference schemas for API documentation",
    "testing": "Validate test fixtures and examples"
  },
  "examples": [
    {
      "language": "javascript",
      "description": "JavaScript validation example",
      "code": "const Ajv = require('ajv'); const ajv = new Ajv(); const schema = require('./schemas/core/product.json'); const validate = ajv.compile(schema);"
    },
    {
      "language": "python",
      "description": "Python validation example",
      "code": "import jsonschema; schema = {...}; jsonschema.validate(data, schema)"
    },
    {
      "language": "java",
      "description": "Java validation example",
      "code": "// Use everit-org/json-schema or similar library"
    }
  ]
}
